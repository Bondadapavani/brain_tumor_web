<!DOCTYPE html>
<html>
<head>
    <title>Brain Tumor Detection</title>
    <style>
        body {
            font-family: Arial;
            background: #f4f6f8;
            text-align: center;
        }
        .box {
            background: white;
            width: 400px;
            margin: 50px auto;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 0 10px #ccc;
        }
        img {
            max-width: 100%;
            margin-top: 15px;
            display: none;
            border-radius: 8px;
        }
        button {
            margin-top: 15px;
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>

<body>

<div class="box">
    <h2>Brain Tumor Classification</h2>

    <input type="file" id="imgInput" accept="image/*"><br>

    <img id="preview">

    <button onclick="predict()">Detect Tumor</button>

    <h3 id="result"></h3>
</div>

<script>
function predict(){
    const fileInput = document.getElementById("imgInput");
    const preview = document.getElementById("preview");
    const result = document.getElementById("result");

    if (!fileInput.files[0]) {
        alert("Please upload MRI image");
        return;
    }

    // Show MRI image
    preview.src = URL.createObjectURL(fileInput.files[0]);
    preview.style.display = "block";

    let form = new FormData();
    form.append("image", fileInput.files[0]);

    result.innerHTML = "Detecting...";

    fetch("/predict", {
        method: "POST",
        body: form
    })
    .then(res => res.json())
    .then(data => {
        result.innerHTML =
            "Tumor: <b>" + data.class +
            "</b><br>Confidence: " + data.confidence + "%";
    });
}
</script>

</body>
</html>
